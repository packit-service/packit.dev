<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-143669536-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    <title>Initial version (0.1.0) of packit is out! :: Packit</title>

    
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/featherlight.min.css" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/css/auto-complete.css" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="/css/hugo-theme.css" rel="stylesheet">
    
      <link href="/css/theme-red.css" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/posts/packit-010/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="/"><img src="/packit_logo.png"></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js"></script>
<script type="text/javascript" src="/js/auto-complete.js"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/packit.dev\/";
    
</script>
<script type="text/javascript" src="/js/search.js"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/docs/" title="Documentation" class="dd-item 
        
        
        
        ">
      <a href="/docs/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/actions/" title="Actions" class="dd-item ">
        <a href="/docs/actions/">
        Actions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/architecture/" title="Architecture" class="dd-item ">
        <a href="/docs/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/guide/" title="Packit Guide" class="dd-item ">
        <a href="/docs/guide/">
        Packit Guide
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/configuration/" title="Configuration" class="dd-item ">
        <a href="/docs/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/how-to-source-git/" title="How to source-git?" class="dd-item ">
        <a href="/docs/how-to-source-git/">
        How to source-git?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/docs/cli/" title="Packit CLI Commands" class="dd-item 
        
        
        
        ">
      <a href="/docs/cli/">
          Packit CLI Commands
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/build/" title="build" class="dd-item ">
        <a href="/docs/cli/build/">
        build
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/create-bodhi-update/" title="create-bodhi-update" class="dd-item ">
        <a href="/docs/cli/create-bodhi-update/">
        create-bodhi-update
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/propose-update/" title="propose-update" class="dd-item ">
        <a href="/docs/cli/propose-update/">
        propose-update
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/srpm/" title="srpm" class="dd-item ">
        <a href="/docs/cli/srpm/">
        srpm
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/sync-from-downstream/" title="sync-from-downstream" class="dd-item ">
        <a href="/docs/cli/sync-from-downstream/">
        sync-from-downstream
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/copr-build/" title="copr-build" class="dd-item ">
        <a href="/docs/cli/copr-build/">
        copr-build
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/packit-as-a-service/" title="Packit-as-a-Service" class="dd-item 
        
        
        
        ">
      <a href="/packit-as-a-service/">
          Packit-as-a-Service
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/posts/" title="Blog Posts" class="dd-item 
        parent
        
        
        ">
      <a href="/posts/">
          Blog Posts
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-010/" title="Initial version (0.1.0) of packit is out!" class="dd-item active">
        <a href="/posts/packit-010/">
        Initial version (0.1.0) of packit is out!
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-020/" title="Packit 0.2.0 is here!" class="dd-item ">
        <a href="/posts/packit-020/">
        Packit 0.2.0 is here!
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-030/" title="Packit 0.3.0" class="dd-item ">
        <a href="/posts/packit-030/">
        Packit 0.3.0
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-041/" title="Packit 0.4.0 &amp; 0.4.1" class="dd-item ">
        <a href="/posts/packit-041/">
        Packit 0.4.0 &amp; 0.4.1
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-042/" title="Packit 0.4.2" class="dd-item ">
        <a href="/posts/packit-042/">
        Packit 0.4.2
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/source-git/" title="Source-git" class="dd-item 
        
        
        
        ">
      <a href="/source-git/">
          Source-git
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/faq/" title="FAQ" class="dd-item 
        
        
        
        ">
      <a href="/faq/">
          FAQ
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/packit-service/packit"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/apps/packit-as-a-service"><i class='fab fa-fw fa-github'></i> Packit-as-a-Service GitHub app</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>About</a> > <a href='/posts/'>Blog Posts</a> > Initial version (0.1.0) of packit is out!
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#propose-update"><code>propose-update</code></a>
<ul>
<li><a href="#do-we-have-everything">Do we have everything?</a>
<ul>
<li><a href="#0-the-upstream-repository-with-a-valid-upstream-release">0. The upstream repository with a valid upstream release.</a></li>
<li><a href="#1-packit-config-file-placed-in-the-upstream-repository">1. Packit config file placed in the upstream repository.</a></li>
<li><a href="#2-spec-file-present-in-the-upstream-repository">2. Spec file present in the upstream repository.</a></li>
<li><a href="#3-pagure-api-tokens-for-fedora-dist-git">3. Pagure API tokens for Fedora Dist-git.</a></li>
<li><a href="#4-valid-fedora-kerberos-ticket">4. Valid Fedora Kerberos ticket.</a></li>
</ul></li>
<li><a href="#time-to-shine">Time to shine</a></li>
<li><a href="#building-in-koji">Building in koji</a></li>
</ul></li>
<li><a href="#conclussion">Conclussion</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Initial version (0.1.0) of packit is out!
            </h1>
          

        



<p>We would like to announce general availability of the initial version of
packit, titled &lsquo;0.1.0&rsquo;.</p>

<p>Since this is our first release, we would like to ask you to be patient if you
encounter any issues. We work hard on packit&rsquo;s usability. If you feel like that
packit is doing something weird or if anything is unclear, don&rsquo;t hesitate and
reach out to us by creating <a href="https://github.com/packit-service/packit/issues/new">a new Github
issue</a>.</p>

<p>The initial release contains two commands:</p>

<ul>
<li><code>packit propose-update</code> — Opens a pull request in dist-git for the latest
upstream release of a selected repository.</li>
<li><code>packit watch-releases</code> — Watches events for all the upstream releases and
performs <code>propose-update</code> for those who use packit.</li>
</ul>

<h2 id="installation">Installation</h2>

<pre><code>$ dnf install --enablerepo=updates-testing packit
</code></pre>

<p>Or</p>

<pre><code>$ pip3 install --user packitos
</code></pre>

<p>Or (if you&rsquo;re brave)</p>

<pre><code>$ pip3 install --user git+https://github.com/packit-service/packit
</code></pre>

<h2 id="requirements">Requirements</h2>

<p>Present features have strict requirements on the upstream projects:</p>

<ul>
<li><p>You need to have a packit config file present in the upstream repo.</p></li>

<li><p>You need to have spec file present in the upstream repo.</p></li>
</ul>

<p>This workflow is suitable for people who are both upstream and downstream
maintainers of the particular project. If you don&rsquo;t fit into that bucket, then
packit might not be ready for you, yet. Please wait till we land more
<a href="/source-git/">source-git</a>
related functionality into packit.</p>

<h2 id="propose-update"><code>propose-update</code></h2>

<p>I&rsquo;m going to demonstrate this functionality on
<a href="https://github.com/packit-service/ogr.git">ogr</a>, our library for git forges,
which powers packit.</p>

<p>It was recently approved for Fedora, so we can use packit to bring the initial
version of ogr into Fedora Rawhide, 30 and 29.</p>

<h3 id="do-we-have-everything">Do we have everything?</h3>

<p>Let&rsquo;s see <a href="/docs/cli/propose-update/">guide</a> for
the <code>propose-update</code> command on what we need:</p>

<h4 id="0-the-upstream-repository-with-a-valid-upstream-release">0. The upstream repository with a valid upstream release.</h4>

<pre><code>$ git remote -v
origin  git@github.com:TomasTomecek/ogr.git (fetch)
origin  git@github.com:TomasTomecek/ogr.git (push)
upstream        https://github.com/packit-service/ogr.git (fetch)
upstream        https://github.com/packit-service/ogr.git (push)
</code></pre>

<p>Yup.</p>

<pre><code>$ git tag --list
0.0.1
0.0.2
0.0.3

$ git checkout 0.0.3
Note: checking out '0.0.3'.
</code></pre>

<p>And the tag name is matching the version in a spec file:</p>

<pre><code>$ grep Version python-ogr.spec
Version:        0.0.3
</code></pre>

<h4 id="1-packit-config-file-placed-in-the-upstream-repository">1. Packit config file placed in the upstream repository.</h4>

<pre><code>$ ll .packit.yaml
-rw-rw-r--. 1 tt tt 177 Mar  1 17:44 .packit.yaml
</code></pre>

<p>Check.</p>

<h4 id="2-spec-file-present-in-the-upstream-repository">2. Spec file present in the upstream repository.</h4>

<pre><code>$ ll python-ogr.spec
-rw-rw-r--. 1 tt tt 1.3K Mar  1 17:43 python-ogr.spec
</code></pre>

<p>:+1:</p>

<h4 id="3-pagure-api-tokens-for-fedora-dist-git">3. Pagure API tokens for Fedora Dist-git.</h4>

<pre><code>$ env | grep TOKEN
PAGURE_USER_TOKEN=will
PAGURE_FORK_TOKEN=not
GITHUB_TOKEN=share, sorry
</code></pre>

<h4 id="4-valid-fedora-kerberos-ticket">4. Valid Fedora Kerberos ticket.</h4>

<pre><code>$ kinit ttomecek@FEDORAPROJECT.ORG
Password for ttomecek@FEDORAPROJECT.ORG:

$ klist
Ticket cache: KEYRING:persistent:1024:krb_ccache_g0t1Ty3Ah
Default principal: ttomecek@FEDORAPROJECT.ORG

Valid starting       Expires              Service principal
03/01/2019 18:12:25  03/02/2019 18:12:19  krbtgt/FEDORAPROJECT.ORG@FEDORAPROJECT.ORG
        renew until 03/08/2019 18:12:19
</code></pre>

<p>We&rsquo;re all set!</p>

<h3 id="time-to-shine">Time to shine</h3>

<p>We are still in the &ldquo;ogr&rdquo; upstream git repository.</p>

<pre><code>$ packit propose-update
INFO: Running 'anitya' versioneer
ERROR: Failed to determine latest upstream version!
Check that the package exists on https://release-monitoring.org.
using &quot;master&quot; dist-git branch
syncing ./python-ogr.spec
INFO: Downloading file from URL https://files.pythonhosted.org/packages/source/o/ogr/ogr-0.0.3.tar.gz
100%[=============================&gt;]    17.95K  eta 00:00:00
downloaded archive: /tmp/tmp2e65b0xt/ogr-0.0.3.tar.gz
uploading to the lookaside cache
PR created: https://src.fedoraproject.org/rpms/python-ogr/pull-request/1
</code></pre>

<p>Mind-blowing, isn&rsquo;t it? Now we have latest python-ogr in Fedora Rawhide by
running only a single command.</p>

<p>I have also <a href="https://release-monitoring.org/project/18832/">added</a> ogr into release-monitoring as packit suggests.</p>

<p>Once we are okay with the changes, we have to <a href="https://src.fedoraproject.org/rpms/python-ogr/pull-request/1">merge the pull
request</a>. That&rsquo;s
our responsibility, as maintainers.</p>

<h3 id="building-in-koji">Building in koji</h3>

<p>Time to build the package (packit doesn&rsquo;t support building in koji, yet)</p>

<pre><code>$ fedpkg clone python-ogr
Cloning into 'python-ogr'...
remote: Counting objects: 8, done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 8 (delta 0), reused 5 (delta 0)
Receiving objects: 100% (8/8), done.

$ cd python-ogr

$ git log
commit c298df5e540ba1d010366e102c1c75d4f5b0b0cc (HEAD -&gt; master, origin/master, origin/HEAD)
Author: Tomas Tomecek &lt;ttomecek@redhat.com&gt;
Date:   Fri Mar 1 18:15:00 2019 +0100

    [packit] 0.0.3 upstream release

    more info

    Signed-off-by: Tomas Tomecek &lt;ttomecek@redhat.com&gt;

commit 7d5ab1471ca0ee2a6c0254410b83beaa83b80f0b
Author: Gwyn Ciesla &lt;limb@fedoraproject.org&gt;
Date:   Fri Mar 1 15:18:34 2019 +0000

    Added the README
</code></pre>

<p>Yup, that&rsquo;s our commit. <code>more info</code> was added there by accident, this is
already fixed in packit.</p>

<pre><code>$ fedpkg build
Building python-ogr-0.0.3-1.fc31 for rawhide
Created task: 33125435
Task info: https://koji.fedoraproject.org/koji/taskinfo?taskID=33125435
Watching tasks (this may be safely interrupted)...
33125435 build (rawhide, /rpms/python-ogr.git:c298df5e540ba1d010366e102c1c75d4f5b0b0cc): free
33125435 build (rawhide, /rpms/python-ogr.git:c298df5e540ba1d010366e102c1c75d4f5b0b0cc): free -&gt; open (buildvm-14.phx2.fedoraproject.org)
  33125451 buildArch (python-ogr-0.0.3-1.fc31.src.rpm, noarch): open (buildvm-14.phx2.fedoraproject.org)
  33125436 buildSRPMFromSCM (/rpms/python-ogr.git:c298df5e540ba1d010366e102c1c75d4f5b0b0cc): closed
33125435 build (rawhide, /rpms/python-ogr.git:c298df5e540ba1d010366e102c1c75d4f5b0b0cc): open (buildvm-14.phx2.fedoraproject.org) -&gt; closed
  0 free  1 open  2 done  0 failed
  33125464 tagBuild (noarch): closed
  33125451 buildArch (python-ogr-0.0.3-1.fc31.src.rpm, noarch): open (buildvm-14.phx2.fedoraproject.org) -&gt; closed
  0 free  0 open  4 done  0 failed

33125435 build (rawhide, /rpms/python-ogr.git:c298df5e540ba1d010366e102c1c75d4f5b0b0cc) completed successfully
</code></pre>

<p>That was rough, can&rsquo;t wait to do this with packit.</p>

<p>Let&rsquo;s do Fedora 30 now:</p>

<pre><code>$ packit propose-update --dist-git-branch f30
INFO: Running 'anitya' versioneer
using &quot;f30&quot; dist-git branch
syncing ./python-ogr.spec
INFO: Downloading file from URL https://files.pythonhosted.org/packages/source/o/ogr/ogr-0.0.3.tar.gz
100%[=============================&gt;]    17.95K  eta 00:00:00
downloaded archive: /tmp/tmpl5xxq22x/ogr-0.0.3.tar.gz
uploading to the lookaside cache
PR created: https://src.fedoraproject.org/rpms/python-ogr/pull-request/3
</code></pre>

<p>And so on&hellip;</p>

<h2 id="conclussion">Conclussion</h2>

<p>As you can see, packit is useful for us right away.</p>

<p>We&rsquo;ll be delighted if you try it out and let us know what you think.</p>

<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/posts/" title="Blog Posts"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/posts/packit-020/" title="Packit 0.2.0 is here!" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/perfect-scrollbar.min.js"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>
    <script src="/js/featherlight.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js"></script>
    <script src="/js/learn.js"></script>
    <script src="/js/hugo-learn.js"></script>

    <link href="/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

